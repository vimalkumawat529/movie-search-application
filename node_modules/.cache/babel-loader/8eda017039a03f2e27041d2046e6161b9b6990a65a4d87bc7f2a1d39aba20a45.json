{"ast":null,"code":"var _jsxFileName = \"/Users/vimalkumawat/Desktop/movie-search-app/src/reducer/moviesSlice.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchMovies, resetMovies } from \"../redux/movieSlice\";\nimport { Box, CircularProgress, Grid, Typography } from \"@mui/material\";\nimport MovieCard from \"./MovieCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MovieSearch = ({\n  query\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    movies,\n    loading,\n    hasMore,\n    error\n  } = useSelector(state => state.movies);\n\n  // Handle Scroll Event for Infinite Scrolling\n  const handleScroll = e => {\n    const bottom = e.target.scrollHeight === e.target.scrollTop + e.target.clientHeight;\n    if (bottom && hasMore && !loading) {\n      dispatch(fetchMovies(query));\n    }\n  };\n\n  // Trigger the fetchMovies action when query changes\n  useEffect(() => {\n    if (query.trim() === \"\") return;\n    dispatch(resetMovies()); // Reset when starting a new search\n    dispatch(fetchMovies(query));\n  }, [query, dispatch]);\n\n  // Render a Loading Indicator when movies are being fetched\n  if (loading && movies.length === 0) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: \"center\",\n        marginTop: 5\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Handle error state\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: \"center\",\n        marginTop: 5\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onScroll: handleScroll,\n    style: {\n      height: \"80vh\",\n      overflowY: \"auto\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        padding: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: movies.map(movie => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(MovieCard, {\n            movie: movie\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this)\n        }, movie.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), loading && hasMore && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          textAlign: \"center\",\n          marginTop: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), !hasMore && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          textAlign: \"center\",\n          marginTop: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          children: \"No more movies to load.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(MovieSearch, \"kbyd7aD2cX/Cf6AApY72KSAU/h4=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = MovieSearch;\nexport default MovieSearch;\nvar _c;\n$RefreshReg$(_c, \"MovieSearch\");","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","fetchMovies","resetMovies","Box","CircularProgress","Grid","Typography","MovieCard","jsxDEV","_jsxDEV","MovieSearch","query","_s","dispatch","movies","loading","hasMore","error","state","handleScroll","e","bottom","target","scrollHeight","scrollTop","clientHeight","trim","length","sx","textAlign","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","color","onScroll","style","height","overflowY","padding","container","spacing","map","movie","item","xs","sm","md","id","_c","$RefreshReg$"],"sources":["/Users/vimalkumawat/Desktop/movie-search-app/src/reducer/moviesSlice.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchMovies, resetMovies } from \"../redux/movieSlice\";\nimport { Box, CircularProgress, Grid, Typography } from \"@mui/material\";\nimport MovieCard from \"./MovieCard\";\n\nconst MovieSearch = ({ query }) => {\n  const dispatch = useDispatch();\n  const { movies, loading, hasMore, error } = useSelector(\n    (state) => state.movies\n  );\n\n  // Handle Scroll Event for Infinite Scrolling\n  const handleScroll = (e) => {\n    const bottom =\n      e.target.scrollHeight === e.target.scrollTop + e.target.clientHeight;\n    if (bottom && hasMore && !loading) {\n      dispatch(fetchMovies(query));\n    }\n  };\n\n  // Trigger the fetchMovies action when query changes\n  useEffect(() => {\n    if (query.trim() === \"\") return;\n    dispatch(resetMovies()); // Reset when starting a new search\n    dispatch(fetchMovies(query));\n  }, [query, dispatch]);\n\n  // Render a Loading Indicator when movies are being fetched\n  if (loading && movies.length === 0) {\n    return (\n      <Box sx={{ textAlign: \"center\", marginTop: 5 }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  // Handle error state\n  if (error) {\n    return (\n      <Box sx={{ textAlign: \"center\", marginTop: 5 }}>\n        <Typography variant=\"body1\" color=\"error\">\n          {error}\n        </Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <div onScroll={handleScroll} style={{ height: \"80vh\", overflowY: \"auto\" }}>\n      <Box sx={{ padding: 2 }}>\n        <Grid container spacing={3}>\n          {movies.map((movie) => (\n            <Grid item key={movie.id} xs={12} sm={6} md={4}>\n              <MovieCard movie={movie} />\n            </Grid>\n          ))}\n        </Grid>\n\n        {loading && hasMore && (\n          <Box sx={{ textAlign: \"center\", marginTop: 2 }}>\n            <CircularProgress />\n          </Box>\n        )}\n\n        {!hasMore && (\n          <Box sx={{ textAlign: \"center\", marginTop: 2 }}>\n            <Typography variant=\"body1\">No more movies to load.</Typography>\n          </Box>\n        )}\n      </Box>\n    </div>\n  );\n};\n\nexport default MovieSearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}